<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>tyranid-gracl</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<script src="assets/js/modernizr.js"></script>
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">tyranid-gracl</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> tyranid-gracl</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="a-gracl-https-github-com-crosslead-gracl-plugin-for-tyranid-http-tyranid-org-">a <a href="https://github.com/CrossLead/gracl">gracl</a> plugin for <a href="http://tyranid.org/">tyranid</a></h1>
				<p><a href="https://travis-ci.org/CrossLead/tyranid-gracl"><img src="https://travis-ci.org/CrossLead/tyranid-gracl.svg?branch=master" alt="Build Status"></a>
				<a href="https://badge.fury.io/js/tyranid-gracl"><img src="https://badge.fury.io/js/tyranid-gracl.svg" alt="npm version"></a></p>
				<p>This repository contains a plugin for <code>tyranid</code> that allows for graph-based acl permissions to be enforced / utilized
				within tyranid simply by adding a few schema annotations.</p>
				<h2 id="tyr-document-method-mixins">Tyr.Document method mixins</h2>
				<h4 id="-doc-allow-perm-string-subject-tyr-document-promise-tyr-document-"><code>doc.$allow(perm: string, subject: Tyr.Document): Promise&lt;Tyr.Document&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// allow a subject to have a permission relating to document</span>
<span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$allow(<span class="hljs-string">'view-blog'</span>, subject);
</code></pre>
				<h4 id="-doc-deny-perm-string-subject-tyr-document-promise-tyr-document-"><code>doc.$deny(perm: string, subject: Tyr.Document): Promise&lt;Tyr.Document&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// deny a subject to have a permission relating to document</span>
<span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$deny(<span class="hljs-string">'view-blog'</span>, subject);
</code></pre>
				<h4 id="-doc-allowforthis-action-string-subject-tyr-document-promise-tyr-document-"><code>doc.$allowForThis(action: string, subject: Tyr.Document): Promise&lt;Tyr.Document&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// allowForThis a subject to have a permission relating to document</span>
<span class="hljs-comment">// note that the perm here should be an action, not a full &lt;action-collection&gt; perm</span>
<span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$allowForThis(<span class="hljs-string">'view'</span>, subject);
</code></pre>
				<h4 id="-doc-denyforthis-action-string-subject-tyr-document-promise-tyr-document-"><code>doc.$denyForThis(action: string, subject: Tyr.Document): Promise&lt;Tyr.Document&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// denyForThis a subject to have a permission relating to document</span>
<span class="hljs-comment">// note that the perm here should be an action, not a full &lt;action-collection&gt; perm</span>
<span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$denyForThis(<span class="hljs-string">'view'</span>, subject);
</code></pre>
				<h4 id="-doc-isallowed-perm-string-subject-tyr-document-promise-boolean-"><code>doc.$isAllowed(perm: string, subject: Tyr.Document): Promise&lt;boolean&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// check if a subject has a permission for document</span>
<span class="hljs-keyword">const</span> bool = <span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$isAllowed(<span class="hljs-string">'view-blog'</span>, subject);
</code></pre>
				<h4 id="-doc-isallowedforthis-action-string-subject-tyr-document-promise-boolean-"><code>doc.$isAllowedForThis(action: string, subject: Tyr.Document): Promise&lt;boolean&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// check if a subject has a permission for document</span>
<span class="hljs-keyword">const</span> post = <span class="hljs-keyword">await</span> Tyr.byName.post.findOne({ name: <span class="hljs-string">'my post'</span> });
<span class="hljs-comment">// note that the perm here should be an action, not a full &lt;action-collection&gt; perm</span>
<span class="hljs-keyword">const</span> has_view_post_access = <span class="hljs-keyword">await</span> post.$isAllowed(<span class="hljs-string">'view'</span>, subject);
</code></pre>
				<h4 id="-doc-explainpermission-perm-string-subject-tyr-document-promise-access-boolean-reason-string-"><code>doc.$explainPermission(perm: string, subject: Tyr.Document): Promise&lt;{ access: boolean, reason: string }&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// deny a subject to have a permission relating to document</span>
<span class="hljs-keyword">const</span> explaination = <span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$explainPermission(<span class="hljs-string">'view-blog'</span>, subject);
<span class="hljs-comment">/**
  typeof explaination.access === boolean // has access or not
  typeof explaination.reason === string // explaining why
 */</span>
</code></pre>
				<h4 id="-doc-permissions-perm-string-gracltype-resouce-subject-promise-tyr-document-"><code>doc.$permissions(perm?: string, graclType?: &#39;resouce&#39; | &#39;subject&#39;): Promise&lt;Tyr.Document[]&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// retrieve all the permissions relating to the document</span>
<span class="hljs-comment">// for a specific permission (if given, otherwise all permissions)</span>
<span class="hljs-comment">// given that the document is a subject (default) or a resource</span>
<span class="hljs-comment">// (if passed graclType = 'resource')</span>
<span class="hljs-keyword">const</span> permissionsAsSubject = <span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$permissions();
<span class="hljs-keyword">const</span> permissionsAsResource = <span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$permissions(<span class="hljs-literal">null</span>, <span class="hljs-string">'resource'</span>);
<span class="hljs-keyword">const</span> viewPostPermissionsAsResource = <span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$permissions(<span class="hljs-string">'view-post'</span>, <span class="hljs-string">'resource'</span>);
</code></pre>
				<h4 id="-doc-entitieswithpermission-perm-string-gracltype-resouce-subject-promise-string-"><code>doc.$entitiesWithPermission(perm: string, graclType?: &#39;resouce&#39; | &#39;subject&#39;): Promise&lt;string[]&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// retrieve a list of uids that have access to the document (if graclType === 'resource')</span>
<span class="hljs-comment">// or the document has access to (if graclType === 'subject' -- default)</span>
<span class="hljs-keyword">const</span> all_uids_that_document_has_view_blog_access_to = (
  <span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$entitiesWithPermission(<span class="hljs-string">'view-blog'</span>)
);

<span class="hljs-keyword">const</span> all_uids_that_have_view_blog_access_to_document = (
  <span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$entitiesWithPermission(<span class="hljs-string">'view-blog'</span>, <span class="hljs-string">'resource'</span>)
);
</code></pre>
				<h4 id="-doc-allowedentitiesforcollection-collectionname-string-promise-string-"><code>doc.$allowedEntitiesForCollection(collectionName: string): Promise&lt;string[]&gt;</code></h4>
				<pre><code class="lang-javascript"><span class="hljs-comment">// retrieve a list of uids that the document has explicit access to in the given collection</span>
<span class="hljs-keyword">const</span> all_uids_that_document_can_access_in_blog_collection = (
  <span class="hljs-keyword">await</span> <span class="hljs-built_in">document</span>.$allowedEntitiesForCollection(<span class="hljs-string">'blog'</span>)
);
</code></pre>
				<h2 id="setup">Setup</h2>
				<h3 id="annotate-your-tyranid-schemas">Annotate your tyranid schemas</h3>
				<p>You need to add a <code>permissionIds</code> property to collections that
					will have permissions set <em>for</em> them (the &quot;resources&quot;), as well
				as add annotations indicating the &quot;hierarchy parents&quot;...</p>
				<pre><code class="lang-javascript">
<span class="hljs-keyword">import</span> Tyr <span class="hljs-keyword">from</span> <span class="hljs-string">'tyranid'</span>;

<span class="hljs-keyword">const</span> Organization = <span class="hljs-keyword">new</span> Tyr.Collection({
  id: <span class="hljs-string">'o00'</span>,
  name: <span class="hljs-string">'organization'</span>,
  dbName: <span class="hljs-string">'organizations'</span>,
  fields: {
    _id: { is: <span class="hljs-string">'mongoid'</span> },
    name: { is: <span class="hljs-string">'string'</span> },
    <span class="hljs-comment">// permissionsIds should be exactly like this</span>
    permissionIds: { is: <span class="hljs-string">'array'</span>, link: <span class="hljs-string">'graclPermission'</span> }
  }
});


<span class="hljs-keyword">const</span> Team = <span class="hljs-keyword">new</span> Tyr.Collection({
  id: <span class="hljs-string">'t00'</span>,
  name: <span class="hljs-string">'team'</span>,
  dbName: <span class="hljs-string">'teams'</span>,
  fields: {
    _id: { is: <span class="hljs-string">'mongoid'</span> },
    name: { is: <span class="hljs-string">'string'</span> },
    <span class="hljs-comment">// here we indicate that "organization" is both the</span>
    <span class="hljs-comment">// parent subject and parent resource in the permissions</span>
    <span class="hljs-comment">// hierarchy</span>
    organizationId: {
      link: <span class="hljs-string">'organization'</span>,
      relate: <span class="hljs-string">'ownedBy'</span>,
      <span class="hljs-comment">// can be both!</span>
      <span class="hljs-comment">// now, organization is implicitly also a subject and resource</span>
      graclType: [ <span class="hljs-string">'subject'</span>, <span class="hljs-string">'resource'</span> ]
    },
    <span class="hljs-comment">// also need permissions prop!</span>
    permissionIds: { is: <span class="hljs-string">'array'</span>, link: <span class="hljs-string">'graclPermission'</span> }
  }
});


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Blog = <span class="hljs-keyword">new</span> Tyr.Collection({
  id: <span class="hljs-string">'b00'</span>,
  name: <span class="hljs-string">'blog'</span>,
  dbName: <span class="hljs-string">'blogs'</span>,
  fields: {
    _id: { is: <span class="hljs-string">'mongoid'</span> },
    name: { is: <span class="hljs-string">'string'</span> },
    organizationId: {
      link: <span class="hljs-string">'organization'</span>,
      relate: <span class="hljs-string">'ownedBy'</span>,
      graclType: <span class="hljs-string">'resource'</span>
    },
    permissionIds: { is: <span class="hljs-string">'array'</span>, link: <span class="hljs-string">'graclPermission'</span> }
  }
});


<span class="hljs-comment">/**
 *  Alternatively, if there is a collection that has no collections
    pointing to it via an "ownedBy" relation, you can add a permissionIds
    field on the collection itself and specify the graclType
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> UsageLog = <span class="hljs-keyword">new</span> Tyr.Collection({
  id: <span class="hljs-string">'ul0'</span>,
  name: <span class="hljs-string">'usagelog'</span>,
  dbName: <span class="hljs-string">'usagelogs'</span>,
  fields: {
    _id: { is: <span class="hljs-string">'mongoid'</span> },
    text: { is: <span class="hljs-string">'string'</span> },
    permissionIds: {
      is: <span class="hljs-string">'array'</span>,
      link: <span class="hljs-string">'graclPermission'</span>,
      graclType: [ <span class="hljs-string">'subject'</span>, <span class="hljs-string">'resource'</span> ]
    }
  }
});
</code></pre>
				<h3 id="register-the-plugin">Register the plugin</h3>
				<p>With annotated schemas, we can create and register the plugin with tyranid.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> Tyr <span class="hljs-keyword">from</span> <span class="hljs-string">'tyranid'</span>;
<span class="hljs-keyword">import</span> pmongo <span class="hljs-keyword">from</span> <span class="hljs-string">'promised-mongo'</span>;

<span class="hljs-comment">// import plugin class</span>
<span class="hljs-keyword">import</span> { GraclPlugin } <span class="hljs-keyword">from</span> <span class="hljs-string">'tyranid-gracl'</span>;

<span class="hljs-comment">// instantiate</span>
<span class="hljs-keyword">const</span> secure = <span class="hljs-keyword">new</span> GraclPlugin();

<span class="hljs-keyword">const</span> db = pmongo(<span class="hljs-string">'mongodb://127.0.0.1:27017/tyranid_gracl_test'</span>);

Tyr.config({
  db: db,
  validate: [
    { dir: root + <span class="hljs-string">'/test/models'</span>, fileMatch: <span class="hljs-string">'[a-z].js'</span> }
  ],
  <span class="hljs-comment">// add to tyranid config...</span>
  secure: secure
})
</code></pre>
				<p>This will install the gracl plugin in tyranid and validate your permissions hierarchies as declared through the collection schema.</p>
				<h3 id="using-permissions">Using permissions</h3>
				<p>Now, we can utilize the provided tyranid Document prototype extensions to check/set permissions. Additionally, <code>collection.find()</code> queries will be automatically filtered using the hierarchy.</p>
				<p>Method usage examples:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> Tyr <span class="hljs-keyword">from</span> <span class="hljs-string">'tyranid'</span>;

<span class="hljs-comment">/**
 *  Example express controller to set a permission
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">giveUserBlogViewAccessToOrg</span>(<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-comment">// assume this is a user document mixed in via middlewhere</span>
  <span class="hljs-keyword">const</span> user = req.user,
        <span class="hljs-comment">// organizationId of org we want to give user view access to</span>
        organizationId = req.query.organizationId;

  <span class="hljs-keyword">try</span> {

    <span class="hljs-keyword">const</span> org = <span class="hljs-keyword">await</span> Tyr.byName
      .organization
      .byId(organizationId);

    <span class="hljs-keyword">const</span> updatedOrg = <span class="hljs-keyword">await</span> org.$allow(<span class="hljs-string">'view-blog'</span>, user); <span class="hljs-comment">// set view-blog access to true for user</span>

  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/another update is in progress/</span>.test(error.message)) {
      <span class="hljs-comment">// the permissions model found a simultaneous update request, and denied this update</span>
      <span class="hljs-keyword">return</span> res.json({ message: <span class="hljs-string">'Cannot update permissions now, try again.'</span> })
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> error;
    }
  }

  <span class="hljs-keyword">return</span> res.json(updatedOrg);
}


<span class="hljs-comment">/**
 *  Example express controller to check a permission
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkCanViewUid</span>(<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-comment">// assume this is a user document mixed in via middlewhere</span>
  <span class="hljs-keyword">const</span> user = req.user,
        <span class="hljs-comment">// uid of entity we want to check if &lt;user&gt; has view access to</span>
        uid = req.query.uid;

  <span class="hljs-keyword">const</span> entity = <span class="hljs-keyword">await</span> Tyr.byUid(uid);
  <span class="hljs-keyword">const</span> canView = <span class="hljs-keyword">await</span> entity.$isAllowedForThis(<span class="hljs-string">'view'</span>, user);

  <span class="hljs-keyword">return</span> res.json(canView);
}



<span class="hljs-comment">/**
 *  Example express controller using filtered queries
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findBlogs</span>(<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-keyword">const</span> blogs = <span class="hljs-keyword">await</span> Tyr.byName.blog.findAll({}, <span class="hljs-literal">null</span>, {
    tyranid: {
      secure: <span class="hljs-literal">true</span>,
      user: req.user
    }
  });
  <span class="hljs-keyword">return</span> res.json(blogs);
}



<span class="hljs-comment">/**
 *  Example creating a mongodb query that is restricted using permissions
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getQueryForBlogsICanEdit</span>(<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-keyword">const</span> originalQuery = {
    name: {
      $<span class="hljs-keyword">in</span>: [
        <span class="hljs-string">'myBlog'</span>,
        <span class="hljs-string">'otherBlog'</span>
      ]
    }
  }
  <span class="hljs-keyword">const</span> secured = <span class="hljs-keyword">await</span> Tyr.byName.blog.secureQuery(originalQuery, <span class="hljs-string">'edit'</span>, req.user);
  <span class="hljs-keyword">return</span> secured;
}



<span class="hljs-comment">/**
 *  Example express controller to delete all permissions for an entity
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deletePermissionsRelatingToUid</span>(<span class="hljs-params">req, res</span>) </span>{
  <span class="hljs-keyword">const</span> uid = req.query.uid;

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> Tyr.secure.permissionsModel.deletePermissions(<span class="hljs-keyword">await</span> Tyr.byUid(uid));
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/another update is in progress/</span>.test(error.message)) {
      <span class="hljs-comment">// the permissions model found a simultaneous update request, and denied this update</span>
      <span class="hljs-keyword">return</span> res.json({ message: <span class="hljs-string">'Cannot update permissions now, try again.'</span> })
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> error;
    }
  }

  <span class="hljs-keyword">return</span> res.json({ message: <span class="hljs-string">'Success!'</span> });
}
</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/graclplugin.html" class="tsd-kind-icon">Gracl<wbr>Plugin</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/permissionsmodel.html" class="tsd-kind-icon">Permissions<wbr>Model</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#hash" class="tsd-kind-icon">Hash</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#permissionhierarchy" class="tsd-kind-icon">permission<wbr>Hierarchy</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#permissiontypelist" class="tsd-kind-icon">permission<wbr>Type<wbr>List</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#pluginoptions" class="tsd-kind-icon">plugin<wbr>Options</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#permissionsbasecollection" class="tsd-kind-icon">Permissions<wbr>Base<wbr>Collection</a>
					</li>
					<li class=" tsd-kind-variable">
						<a href="globals.html#getcollectionlinkssorted" class="tsd-kind-icon">get<wbr>Collection<wbr>Links<wbr>Sorted</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#comparecollectionwithfield" class="tsd-kind-icon">compare<wbr>Collection<wbr>With<wbr>Field</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#createerror" class="tsd-kind-icon">create<wbr>Error</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#createinqueries" class="tsd-kind-icon">create<wbr>InQueries</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#createschemanode" class="tsd-kind-icon">create<wbr>Schema<wbr>Node</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#extractidandmodel" class="tsd-kind-icon">extract<wbr>IdAnd<wbr>Model</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#findlinkincollection" class="tsd-kind-icon">find<wbr>Link<wbr>InCollection</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#makerepository" class="tsd-kind-icon">make<wbr>Repository</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#stepthroughcollectionpath" class="tsd-kind-icon">step<wbr>Through<wbr>Collection<wbr>Path</a>
					</li>
					<li class=" tsd-kind-object-literal">
						<a href="globals.html#documentmethods" class="tsd-kind-icon">document<wbr>Methods</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.io" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>